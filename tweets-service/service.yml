type: exosphere-tweets-service
description: Generic MongoDB storage service
author: originate


startup:
  online-text: online at port
tests: node_modules/.bin/cucumber-js


messages:
  receives:
    - create tweet
    - list tweets
    - get tweet details
    - update tweet
    - delete tweet
  sends:
    - tweet created
    - tweets listed
    - tweet details
    - tweet not found
    - tweet updated
    - tweet deleted
    - tweet not created

development:
  scripts:
    run: lsc src/server.ls
  dependencies:
    - name: mongo
      version: 3.4.0

environment:
  default:
  development:
  production:
  secrets:
    - MONGODB_USER
    - MONGODB_PW

production:
  cpu: 100
  memory: 500

user-data:
  mongo:
    production-endpoint: 'ds143608.mlab.com:43608'
